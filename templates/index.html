<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>Neon Pokedex DB</title>
    <style>
        body {
            margin: 0; padding: 0; height: 100vh;
            display: flex; justify-content: center; align-items: center;
            background-color: #0f0f1a; /* Sayfa rengini garantiye aldık */
            color: white; font-family: sans-serif;
        }
        .card {
            background: #1e1e2a; /* Şeffaflığı şimdilik kaldırdık, görünsün diye */
            border-top: 5px solid {{ pokemon.renk }};
            border-radius: 20px; padding: 30px; width: 300px;
            text-align: center; box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }
        .img-container img { width: 150px; height: 150px; }
        .btn-group { margin-top: 20px; display: flex; gap: 10px; justify-content: center; }
        #fav-btn { background: #ff4757; border: none; padding: 10px; border-radius: 50%; cursor: pointer; font-size: 20px; }
        .scan-btn { background: {{ pokemon.renk }}; border: none; padding: 10px 20px; border-radius: 10px; cursor: pointer; font-weight: bold; }
    </style>
</head>
<body>
    <div class="card">
        <div class="img-container">
            <img src="{{ pokemon.resim }}" alt="pokemon">
        </div>
        <h1>{{ pokemon.isim }}</h1>
        <p style="background: {{ pokemon.renk }}33; color: {{ pokemon.renk }}; display: inline-block; padding: 5px 15px; border-radius: 5px;">
            {{ pokemon.tur }}
        </p>
        <div class="btn-group">
            <button id="fav-btn" onclick="favoriyeEkle()">❤️</button>
            <button class="scan-btn" onclick="location.reload()">SCAN ></button>
        </div>
        <br>
        <a href="/favorites" style="color: #aaa; text-decoration: none; font-size: 12px;">FAVORİ LİSTESİ →</a>
    </div>

    <script>
    function favoriyeEkle() {
        const pName = "{{ pokemon.isim }}";
        const pImg = "{{ pokemon.resim }}";
        let favs = JSON.parse(localStorage.getItem('my_favs')) || [];
        if (!favs.find(p => p.ad === pName)) {
            favs.push({ ad: pName, resim: pImg });
            localStorage.setItem('my_favs', JSON.stringify(favs));
            alert(pName + " eklendi!");
        } else { alert("Zaten listede!"); }
    }
    </script>
</body>
</html>
